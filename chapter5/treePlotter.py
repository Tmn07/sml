# coding=utf-8
# 得到叶子节点的数目
def getNumLeafs(myTree):
    numLeafs = 0
    firstStr = myTree.keys()[0]
    secondDict = myTree[firstStr]
    for key in secondDict.keys():
        if type(secondDict[key]).__name__ == 'dict':  # 这里说的只是二叉树吧？？应该？
            numLeafs += getNumLeafs(secondDict[key])
        else:
            numLeafs += 1
    return numLeafs


# 树的层数
def getTreeDepth(myTree):
    maxDepth = 0
    firstStr = myTree.keys()[0]
    secondDict = myTree[firstStr]
    for key in secondDict.keys():
        if type(secondDict[key]).__name__ == 'dict':  # 一层只有一个dict
            thisDepth = 1 + getTreeDepth(secondDict[key])
            # print(123)
        else:
            thisDepth = 1
            # print(456)
        if thisDepth > maxDepth: maxDepth = thisDepth
    return maxDepth

#函数retrieveTree输出预先存储的树信息
#避免每次测试代码时都要从数据中创建树的麻烦
def retrieveTree(i):
    listOfTrees = []
    # listOfTrees = [{'existing_loans_count': {'1': {'savings_balance': {'unknown': {'purpose': {'car': {'other_credit': {'none': {'job': {'skilled': {'credit_history': {'poor': 'no', 'good': {'employment_duration': {'1 - 4 years': {'housing': {'own': {'years_at_residence': {'1': 'no', '3': 'no', '2': {'checking_balance': {'1 - 200 DM': {'default': {'yes': 'yes', 'no': 'no'}}, '< 0 DM': 'yes', 'unknown': 'no'}}, '4': 'no'}}, 'other': {'checking_balance': {'1 - 200 DM': 'yes', 'unknown': 'no'}}, 'rent': 'yes'}}, '> 7 years': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no', '4': 'no'}}, '4 - 7 years': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'yes', 'unknown': 'no'}}, '< 1 year': 'no'}}, 'critical': 'no'}}, 'unskilled': {'checking_balance': {'unknown': {'employment_duration': {'1 - 4 years': {'credit_history': {'perfect': 'no', 'good': 'yes'}}, '> 7 years': 'no'}}, '< 0 DM': 'no', '> 200 DM': 'no', '1 - 200 DM': 'no'}}, 'management': {'credit_history': {'very good': 'no', 'critical': {'employment_duration': {'1 - 4 years': 'no', 'unemployed': 'no', '> 7 years': 'yes'}}, 'good': 'no'}}, 'unemployed': {'employment_duration': {'unemployed': {'housing': {'own': 'yes', 'rent': 'no'}}, '< 1 year': 'no'}}}}, 'store': 'no', 'bank': {'checking_balance': {'unknown': {'credit_history': {'very good': 'yes', 'critical': 'no', 'good': 'no'}}, '< 0 DM': {'years_at_residence': {'2': 'yes', '4': 'no'}}, '1 - 200 DM': 'no'}}}}, 'car0': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'yes'}}, 'education': {'checking_balance': {'unknown': 'no', '< 0 DM': {'employment_duration': {'1 - 4 years': 'no', '> 7 years': 'yes'}}, '1 - 200 DM': 'no'}}, 'furniture/appliances': {'job': {'management': {'checking_balance': {'1 - 200 DM': {'credit_history': {'poor': 'no', 'good': 'yes'}}, '< 0 DM': 'yes', '> 200 DM': 'no'}}, 'unskilled': {'credit_history': {'poor': 'no', 'very good': 'no', 'good': 'no', 'critical': 'yes'}}, 'skilled': {'credit_history': {'poor': 'no', 'good': {'other_credit': {'none': {'employment_duration': {'1 - 4 years': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes', '1 - 200 DM': {'percent_of_income': {'2': 'yes', '4': 'no'}}}}, '> 7 years': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'yes', 'unknown': 'no'}}, '4 - 7 years': 'no', '< 1 year': {'checking_balance': {'1 - 200 DM': {'years_at_residence': {'1': 'no', '3': 'yes'}}, '< 0 DM': 'no', 'unknown': 'no'}}}}, 'bank': 'yes', 'store': 'no'}}, 'critical': 'no'}}, 'unemployed': 'no'}}, 'business': {'checking_balance': {'unknown': {'credit_history': {'good': 'yes', 'critical': 'no'}}, '1 - 200 DM': 'no'}}}}, '< 100 DM': {'job': {'skilled': {'purpose': {'car': {'employment_duration': {'1 - 4 years': {'credit_history': {'poor': 'no', 'very good': 'no', 'good': {'years_at_residence': {'3': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'no'}}, '2': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes', '1 - 200 DM': 'yes'}}, '4': 'no'}}, 'critical': 'no'}}, '> 7 years': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': {'other_credit': {'none': {'credit_history': {'good': {'percent_of_income': {'3': 'yes', '2': 'no', '4': 'yes'}}, 'critical': 'no'}}, 'bank': 'yes'}}, '> 200 DM': 'no', 'unknown': 'no'}}, '4 - 7 years': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': {'years_at_residence': {'1': 'yes', '3': {'percent_of_income': {'2': 'yes', '4': 'no'}}, '2': 'yes', '4': 'yes'}}, '> 200 DM': 'yes', 'unknown': 'no'}}, '< 1 year': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'3': 'yes', '4': 'no'}}, '< 0 DM': {'percent_of_income': {'2': 'no', '4': 'yes'}}, '> 200 DM': 'no', 'unknown': 'no'}}, 'unemployed': 'no'}}, 'education': {'checking_balance': {'unknown': {'credit_history': {'good': {'employment_duration': {'1 - 4 years': 'yes', '< 1 year': 'no'}}, 'critical': 'no'}}, '< 0 DM': 'yes', '> 200 DM': {'credit_history': {'good': 'no', 'critical': 'yes'}}, '1 - 200 DM': 'yes'}}, 'furniture/appliances': {'employment_duration': {'1 - 4 years': {'checking_balance': {'1 - 200 DM': {'credit_history': {'perfect': 'yes', 'good': {'years_at_residence': {'1': {'percent_of_income': {'1': 'no', '4': 'yes'}}, '3': 'no', '2': {'percent_of_income': {'1': 'yes', '3': 'no', '2': {'default': {'yes': 'yes', 'no': 'no'}}, '4': 'no'}}, '4': 'yes'}}, 'critical': 'yes'}}, '< 0 DM': {'other_credit': {'none': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': {'years_at_residence': {'2': {'phone': {'yes': 'yes', 'no': 'no'}}, '4': 'yes'}}, '2': {'years_at_residence': {'1': 'no', '3': {'default': {'yes': 'yes', 'no': 'no'}}, '2': {'default': {'yes': 'yes', 'no': 'no'}}, '4': 'no'}}, '4': 'no'}}, 'other': 'yes', 'rent': 'yes'}}, 'store': 'no', 'bank': {'years_at_residence': {'1': 'no', '3': 'yes', '4': 'yes'}}}}, '> 200 DM': {'years_at_residence': {'1': 'no', '2': {'percent_of_income': {'2': 'no', '4': 'yes'}}, '4': 'no'}}, 'unknown': 'no'}}, '> 7 years': {'credit_history': {'very good': 'yes', 'good': {'checking_balance': {'1 - 200 DM': {'years_at_residence': {'3': 'yes', '4': 'no'}}, '< 0 DM': {'years_at_residence': {'1': 'no', '3': 'no', '2': 'yes', '4': 'no'}}, '> 200 DM': 'no', 'unknown': 'no'}}, 'critical': 'no'}}, '4 - 7 years': {'dependents': {'1': {'other_credit': {'none': {'credit_history': {'poor': {'checking_balance': {'1 - 200 DM': 'no', 'unknown': 'yes'}}, 'good': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'3': 'yes', '2': 'no', '4': 'no'}}, '< 0 DM': {'housing': {'own': {'years_at_residence': {'1': 'no', '2': 'yes', '4': 'no'}}, 'rent': 'yes'}}, 'unknown': {'years_at_residence': {'2': {'housing': {'own': {'phone': {'yes': 'no', 'no': 'yes'}}, 'rent': 'no'}}, '4': 'no'}}}}, 'critical': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'2': 'yes', '4': 'no'}}, '< 0 DM': 'no', 'unknown': 'no'}}}}, 'bank': {'checking_balance': {'< 0 DM': 'yes', '> 200 DM': 'no'}}}}, '2': 'no'}}, '< 1 year': {'credit_history': {'poor': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'yes', '> 200 DM': 'no'}}, 'perfect': 'yes', 'very good': 'yes', 'good': {'other_credit': {'none': {'dependents': {'1': {'checking_balance': {'unknown': {'percent_of_income': {'1': {'housing': {'own': 'yes', 'rent': 'no'}}, '3': 'no', '4': 'no'}}, '< 0 DM': {'years_at_residence': {'1': 'no', '3': 'yes', '2': 'no', '4': {'percent_of_income': {'1': 'no', '3': 'yes', '4': 'yes'}}}}, '> 200 DM': 'no', '1 - 200 DM': {'percent_of_income': {'1': {'years_at_residence': {'1': {'housing': {'own': {'phone': {'yes': 'yes', 'no': 'no'}}, 'rent': 'yes'}}, '2': 'yes'}}, '2': 'no', '4': 'yes'}}}}, '2': 'no'}}, 'bank': 'no', 'store': {'checking_balance': {'unknown': 'no', '< 0 DM': 'no', '1 - 200 DM': 'yes'}}}}, 'critical': 'no'}}, 'unemployed': 'yes'}}, 'business': {'other_credit': {'none': {'dependents': {'1': {'employment_duration': {'1 - 4 years': {'percent_of_income': {'1': 'no', '2': {'checking_balance': {'1 - 200 DM': 'yes', 'unknown': 'no'}}, '4': 'yes'}}, '> 7 years': 'yes', '4 - 7 years': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes', '> 200 DM': 'no'}}, '< 1 year': {'checking_balance': {'1 - 200 DM': {'credit_history': {'perfect': 'yes', 'good': 'no'}}, '< 0 DM': 'yes'}}}}, '2': {'employment_duration': {'1 - 4 years': 'yes', '> 7 years': 'yes', '< 1 year': 'no'}}}}, 'bank': 'no', 'store': 'no'}}, 'renovations': {'checking_balance': {'1 - 200 DM': {'employment_duration': {'1 - 4 years': 'yes', 'unemployed': 'no'}}, 'unknown': 'yes'}}}}, 'unskilled': {'purpose': {'business': 'no', 'car': {'checking_balance': {'1 - 200 DM': {'employment_duration': {'1 - 4 years': {'percent_of_income': {'3': 'yes', '4': 'no'}}, '> 7 years': 'yes', '4 - 7 years': {'percent_of_income': {'3': 'no', '2': 'yes'}}, '< 1 year': 'yes'}}, '< 0 DM': {'credit_history': {'good': {'years_at_residence': {'1': {'percent_of_income': {'1': 'no', '3': 'yes', '4': 'yes'}}, '3': {'default': {'yes': 'yes', 'no': 'no'}}, '2': 'yes', '4': 'no'}}, 'critical': 'no'}}, '> 200 DM': 'no', 'unknown': 'no'}}, 'car0': 'no', 'furniture/appliances': {'credit_history': {'perfect': 'no', 'poor': 'yes', 'very good': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'yes'}}, 'good': {'other_credit': {'none': {'checking_balance': {'unknown': {'percent_of_income': {'1': 'no', '3': 'no', '4': 'yes'}}, '< 0 DM': {'employment_duration': {'1 - 4 years': {'years_at_residence': {'1': 'no', '3': {'dependents': {'1': {'phone': {'yes': 'yes', 'no': 'no'}}, '2': 'no'}}, '2': 'no', '4': 'yes'}}, '> 7 years': 'no', '4 - 7 years': 'no', '< 1 year': {'years_at_residence': {'1': 'no', '4': 'yes'}}}}, '> 200 DM': {'employment_duration': {'1 - 4 years': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'yes'}}, 'rent': 'no'}}, '< 1 year': 'yes'}}, '1 - 200 DM': {'employment_duration': {'1 - 4 years': {'years_at_residence': {'2': {'dependents': {'1': {'default': {'yes': 'yes', 'no': 'no'}}, '2': 'no'}}, '4': 'no'}}, '> 7 years': 'no', '4 - 7 years': 'no', '< 1 year': 'no'}}}}, 'bank': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'no', 'unknown': 'yes'}}, 'store': {'checking_balance': {'< 0 DM': 'yes', '> 200 DM': 'no'}}}}, 'critical': {'employment_duration': {'1 - 4 years': 'no', '< 1 year': 'yes'}}}}, 'education': {'credit_history': {'perfect': 'no', 'very good': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'no'}}, 'critical': 'no', 'good': 'yes'}}, 'renovations': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'3': 'no', '2': 'no', '4': 'yes'}}, '< 0 DM': 'yes'}}}}, 'management': {'dependents': {'1': {'phone': {'yes': {'credit_history': {'perfect': 'yes', 'poor': 'yes', 'very good': 'no', 'good': {'purpose': {'car': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no', '4': 'yes'}}, '< 0 DM': {'employment_duration': {'1 - 4 years': 'no', '> 7 years': 'yes', '4 - 7 years': 'no', '< 1 year': 'yes', 'unemployed': 'no'}}, 'unknown': 'no'}}, 'education': 'no', 'furniture/appliances': {'employment_duration': {'1 - 4 years': {'housing': {'own': 'yes', 'other': 'no'}}, '> 7 years': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}, '< 1 year': 'no', 'unemployed': 'no'}}, 'business': {'checking_balance': {'1 - 200 DM': 'no', 'unknown': 'yes'}}}}, 'critical': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'yes', 'unknown': 'no'}}}}, 'no': {'checking_balance': {'unknown': 'no', '< 0 DM': {'purpose': {'car': 'yes', 'car0': 'no', 'furniture/appliances': 'no'}}, '> 200 DM': 'no', '1 - 200 DM': 'no'}}}}, '2': {'employment_duration': {'1 - 4 years': 'no', '> 7 years': 'yes', '4 - 7 years': 'no', 'unemployed': 'yes'}}}}, 'unemployed': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes', '> 200 DM': 'yes'}}}}, '500 - 1000 DM': {'purpose': {'car': {'employment_duration': {'1 - 4 years': {'checking_balance': {'unknown': {'percent_of_income': {'1': 'no', '3': 'no', '2': {'credit_history': {'good': {'years_at_residence': {'2': 'yes', '4': 'no'}}, 'critical': 'yes'}}, '4': 'no'}}, '> 200 DM': 'no'}}, 'unemployed': 'no', '4 - 7 years': 'no', '< 1 year': 'yes', '> 7 years': 'no'}}, 'education': 'no', 'furniture/appliances': {'credit_history': {'poor': 'no', 'very good': {'employment_duration': {'1 - 4 years': 'no', '> 7 years': 'no', '< 1 year': 'yes'}}, 'good': {'employment_duration': {'1 - 4 years': {'job': {'unskilled': {'checking_balance': {'1 - 200 DM': {'default': {'yes': 'yes', 'no': 'no'}}, '> 200 DM': 'no', 'unknown': 'yes'}}, 'skilled': 'no'}}, '> 7 years': 'no', '4 - 7 years': 'no', '< 1 year': 'no', 'unemployed': 'no'}}, 'critical': 'no'}}, 'business': {'checking_balance': {'1 - 200 DM': 'no', 'unknown': 'yes'}}, 'renovations': 'no'}}, '100 - 500 DM': {'credit_history': {'poor': 'no', 'perfect': {'checking_balance': {'1 - 200 DM': 'yes', 'unknown': 'no'}}, 'very good': {'checking_balance': {'1 - 200 DM': {'purpose': {'car': 'yes', 'business': 'no'}}, '< 0 DM': 'no', 'unknown': 'no'}}, 'good': {'purpose': {'car': {'checking_balance': {'unknown': 'no', '< 0 DM': 'no', '> 200 DM': {'employment_duration': {'1 - 4 years': 'no', '> 7 years': 'yes'}}, '1 - 200 DM': 'yes'}}, 'education': 'yes', 'furniture/appliances': {'other_credit': {'none': {'employment_duration': {'1 - 4 years': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes', '1 - 200 DM': 'yes'}}, '> 7 years': 'no', '4 - 7 years': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}, '< 1 year': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'3': 'yes', '2': 'no', '4': 'yes'}}, '< 0 DM': 'yes', 'unknown': 'no'}}, 'unemployed': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}}}, 'bank': 'no', 'store': 'no'}}, 'business': 'no', 'renovations': 'no'}}, 'critical': 'no'}}, '> 1000 DM': {'credit_history': {'very good': {'purpose': {'education': 'yes', 'furniture/appliances': 'no'}}, 'good': 'no', 'critical': 'no'}}}}, '3': {'purpose': {'car': {'checking_balance': {'unknown': 'no', '< 0 DM': {'employment_duration': {'1 - 4 years': 'no', '> 7 years': {'percent_of_income': {'1': 'yes', '3': 'no', '2': 'no'}}, '4 - 7 years': 'yes'}}, '> 200 DM': {'savings_balance': {'500 - 1000 DM': {'employment_duration': {'unemployed': 'no', '4 - 7 years': 'yes'}}, '< 100 DM': 'no'}}, '1 - 200 DM': 'no'}}, 'education': 'no', 'furniture/appliances': 'no', 'business': {'credit_history': {'perfect': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'no'}}, 'good': 'yes', 'critical': 'no'}}, 'renovations': 'yes'}}, '2': {'job': {'skilled': {'employment_duration': {'1 - 4 years': {'purpose': {'business': {'checking_balance': {'unknown': {'credit_history': {'poor': 'no', 'perfect': 'yes', 'critical': 'no'}}, '> 200 DM': 'no', '1 - 200 DM': 'no'}}, 'car': {'savings_balance': {'unknown': {'checking_balance': {'unknown': 'yes', '1 - 200 DM': 'no'}}, '< 100 DM': {'checking_balance': {'unknown': {'other_credit': {'none': 'no', 'store': 'yes', 'bank': 'yes'}}, '< 0 DM': {'years_at_residence': {'2': {'other_credit': {'none': {'percent_of_income': {'3': 'yes', '2': 'no', '4': 'no'}}, 'bank': 'yes'}}, '4': 'yes'}}, '> 200 DM': 'no', '1 - 200 DM': 'no'}}, '100 - 500 DM': {'years_at_residence': {'2': 'no', '4': 'yes'}}, '> 1000 DM': 'no'}}, 'car0': 'no', 'furniture/appliances': {'checking_balance': {'unknown': 'no', '< 0 DM': {'years_at_residence': {'3': 'no', '2': {'credit_history': {'perfect': {'percent_of_income': {'2': 'no', '4': 'yes'}}, 'good': 'yes', 'critical': 'no'}}, '4': 'yes'}}, '> 200 DM': {'savings_balance': {'unknown': {'years_at_residence': {'2': 'no', '4': 'yes'}}, '> 1000 DM': 'no'}}, '1 - 200 DM': 'no'}}, 'education': {'checking_balance': {'unknown': {'savings_balance': {'unknown': 'no', '< 100 DM': 'no', '100 - 500 DM': 'yes'}}, '< 0 DM': 'no'}}, 'renovations': {'checking_balance': {'unknown': 'no', '1 - 200 DM': 'yes'}}}}, '> 7 years': {'purpose': {'car': {'checking_balance': {'1 - 200 DM': {'savings_balance': {'unknown': 'no', '< 100 DM': 'yes', '100 - 500 DM': 'no'}}, '< 0 DM': {'housing': {'own': {'years_at_residence': {'3': {'phone': {'yes': 'no', 'no': 'yes'}}, '4': 'no'}}, 'other': 'yes', 'rent': 'yes'}}, '> 200 DM': 'no', 'unknown': 'no'}}, 'education': {'savings_balance': {'unknown': 'no', '500 - 1000 DM': 'no', '< 100 DM': 'no', '> 1000 DM': 'yes'}}, 'furniture/appliances': {'checking_balance': {'unknown': {'credit_history': {'perfect': 'no', 'poor': 'no', 'good': {'savings_balance': {'unknown': 'no', '< 100 DM': 'no', '100 - 500 DM': 'yes', '500 - 1000 DM': 'yes'}}, 'critical': 'no'}}, '< 0 DM': {'savings_balance': {'unknown': 'no', '500 - 1000 DM': 'no', '< 100 DM': {'percent_of_income': {'1': 'no', '3': 'yes', '4': 'no'}}, '> 1000 DM': 'no'}}, '> 200 DM': 'no', '1 - 200 DM': 'no'}}, 'business': {'checking_balance': {'1 - 200 DM': {'credit_history': {'poor': 'no', 'critical': 'yes'}}, '< 0 DM': 'yes', 'unknown': 'no'}}, 'renovations': {'checking_balance': {'unknown': {'credit_history': {'poor': 'yes', 'critical': 'no'}}, '< 0 DM': 'no'}}}}, '4 - 7 years': {'savings_balance': {'unknown': 'no', '500 - 1000 DM': 'no', '100 - 500 DM': 'no', '< 100 DM': {'other_credit': {'none': {'dependents': {'1': {'housing': {'own': {'checking_balance': {'unknown': 'no', '< 0 DM': {'purpose': {'car': {'years_at_residence': {'3': 'no', '4': 'yes'}}, 'renovations': 'yes', 'business': 'yes', 'furniture/appliances': 'yes'}}, '1 - 200 DM': {'purpose': {'furniture/appliances': {'credit_history': {'good': {'years_at_residence': {'3': 'no', '4': 'yes'}}, 'critical': 'yes'}}, 'business': 'no'}}}}, 'rent': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}}}, '2': 'no'}}, 'store': 'no', 'bank': {'checking_balance': {'unknown': {'purpose': {'car': 'yes', 'furniture/appliances': 'no'}}, '< 0 DM': 'yes'}}}}, '> 1000 DM': {'checking_balance': {'1 - 200 DM': {'credit_history': {'good': 'yes', 'critical': 'no'}}, 'unknown': 'no'}}}}, '< 1 year': {'savings_balance': {'unknown': {'checking_balance': {'unknown': {'credit_history': {'poor': 'yes', 'very good': 'no', 'good': {'percent_of_income': {'1': 'yes', '4': 'no'}}, 'critical': 'no'}}, '< 0 DM': 'no'}}, '< 100 DM': {'credit_history': {'poor': 'yes', 'perfect': {'checking_balance': {'1 - 200 DM': 'yes', '> 200 DM': 'no'}}, 'very good': 'yes', 'good': {'checking_balance': {'1 - 200 DM': 'no', 'unknown': 'yes'}}, 'critical': {'housing': {'own': {'checking_balance': {'1 - 200 DM': {'purpose': {'car': 'yes', 'furniture/appliances': 'no'}}, 'unknown': 'no'}}, 'other': 'no', 'rent': {'percent_of_income': {'1': 'no', '2': 'yes'}}}}}}, '100 - 500 DM': 'yes', '500 - 1000 DM': 'no'}}, 'unemployed': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}}}, 'unskilled': {'credit_history': {'poor': {'checking_balance': {'unknown': {'purpose': {'car': {'employment_duration': {'1 - 4 years': 'no', '> 7 years': 'yes', '4 - 7 years': 'no', '< 1 year': 'no'}}, 'business': 'no'}}, '< 0 DM': 'no', '1 - 200 DM': 'no'}}, 'perfect': 'yes', 'very good': 'yes', 'good': {'purpose': {'education': 'no', 'furniture/appliances': 'no', 'business': 'yes', 'renovations': 'no'}}, 'critical': {'purpose': {'car': {'checking_balance': {'unknown': {'savings_balance': {'< 100 DM': 'no', '100 - 500 DM': {'percent_of_income': {'2': 'yes', '4': 'no'}}, '> 1000 DM': 'no'}}, '< 0 DM': {'savings_balance': {'unknown': 'no', '< 100 DM': {'employment_duration': {'1 - 4 years': 'no', '> 7 years': {'other_credit': {'none': {'default': {'yes': 'yes', 'no': 'no'}}, 'store': 'yes'}}, '4 - 7 years': 'no', '< 1 year': 'no'}}, '> 1000 DM': 'no'}}, '> 200 DM': 'yes', '1 - 200 DM': 'no'}}, 'education': 'no', 'furniture/appliances': {'checking_balance': {'1 - 200 DM': {'employment_duration': {'1 - 4 years': 'yes', '> 7 years': 'no', '< 1 year': 'yes'}}, '< 0 DM': {'employment_duration': {'1 - 4 years': 'no', '< 1 year': 'yes'}}, '> 200 DM': 'no', 'unknown': 'no'}}, 'business': 'no'}}}}, 'management': {'savings_balance': {'unknown': 'no', '500 - 1000 DM': 'no', '< 100 DM': {'housing': {'own': {'credit_history': {'poor': {'checking_balance': {'1 - 200 DM': {'purpose': {'car': 'no', 'furniture/appliances': 'no', 'business': 'yes'}}, 'unknown': 'yes'}}, 'perfect': 'yes', 'very good': 'yes', 'critical': {'years_at_residence': {'1': 'no', '3': {'checking_balance': {'1 - 200 DM': 'yes', 'unknown': 'no'}}, '2': {'employment_duration': {'1 - 4 years': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}, 'unemployed': {'purpose': {'car': {'phone': {'yes': 'no', 'no': 'yes'}}, 'car0': 'no', 'business': 'yes'}}, '4 - 7 years': 'no', '< 1 year': 'no'}}, '4': 'no'}}, 'good': {'checking_balance': {'1 - 200 DM': {'purpose': {'car0': 'yes', 'education': 'no'}}, 'unknown': 'yes'}}}}, 'other': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'no'}}, 'rent': {'checking_balance': {'unknown': 'no', '1 - 200 DM': 'yes'}}}}, '100 - 500 DM': {'checking_balance': {'1 - 200 DM': 'yes', 'unknown': 'no'}}, '> 1000 DM': 'no'}}, 'unemployed': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': {'credit_history': {'very good': 'yes', 'critical': 'no'}}, 'unknown': 'no'}}}}, '4': {'checking_balance': {'unknown': 'no', '< 0 DM': 'no', '1 - 200 DM': 'yes'}}}}]
    listOfTrees.append({'job': {'skilled': {'employment_duration': {'1 - 4 years': {'other_credit': {'none': {'dependents': {'1': {'credit_history': {'perfect': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'2': {'years_at_residence': {'1': 'no', '2': 'yes'}}, '4': 'yes'}}, '< 0 DM': {'percent_of_income': {'2': 'no', '4': 'yes'}}, 'unknown': 'no'}}, 'poor': {'checking_balance': {'unknown': {'years_at_residence': {'3': 'no', '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}, '4': 'no'}}, '< 0 DM': 'no', '1 - 200 DM': 'no'}}, 'very good': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'yes', '> 200 DM': 'no'}}, 'good': {'checking_balance': {'1 - 200 DM': {'housing': {'own': {'years_at_residence': {'1': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, '3': 'no', '2': {'percent_of_income': {'1': 'yes', '3': 'no', '2': {'phone': {'yes': 'yes', 'no': 'yes'}}, '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, '4': {'percent_of_income': {'3': 'yes', '4': 'no'}}}}, 'other': {'percent_of_income': {'1': 'yes', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, 'rent': {'percent_of_income': {'1': 'no', '2': 'yes', '4': 'yes'}}}}, '< 0 DM': {'housing': {'own': {'percent_of_income': {'3': {'years_at_residence': {'2': {'phone': {'yes': 'yes', 'no': 'no'}}, '4': 'yes'}}, '2': {'years_at_residence': {'1': 'no', '3': {'default': {'yes': 'yes', 'no': 'no'}}, '2': {'default': {'yes': 'yes', 'no': 'no'}}, '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, '4': {'years_at_residence': {'2': {'default': {'yes': 'yes', 'no': 'no'}}, '4': 'no'}}}}, 'other': 'yes', 'rent': {'percent_of_income': {'2': {'default': {'yes': 'yes', 'no': 'no'}}, '4': 'yes'}}}}, '> 200 DM': {'years_at_residence': {'1': 'no', '2': {'percent_of_income': {'2': 'no', '4': 'yes'}}, '4': 'no'}}, 'unknown': {'percent_of_income': {'1': 'no', '3': {'years_at_residence': {'1': 'no', '3': 'yes', '2': 'no', '4': 'no'}}, '2': {'housing': {'own': {'years_at_residence': {'1': 'no', '2': {'phone': {'yes': 'no', 'no': 'yes'}}, '4': 'no'}}, 'other': 'no', 'rent': {'years_at_residence': {'3': 'no', '4': {'phone': {'yes': 'no', 'no': 'no'}}}}}}, '4': 'no'}}}}, 'critical': {'housing': {'own': {'checking_balance': {'unknown': {'years_at_residence': {'1': 'no', '3': 'no', '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': {'phone': {'yes': 'no', 'no': 'no'}}}}, '4': 'no'}}, '< 0 DM': {'percent_of_income': {'1': 'yes', '3': {'phone': {'yes': 'no', 'no': {'default': {'yes': 'yes', 'no': 'no'}}}}, '2': 'no', '4': 'no'}}, '> 200 DM': 'no', '1 - 200 DM': {'years_at_residence': {'2': 'yes', '4': 'no'}}}}, 'other': {'checking_balance': {'unknown': 'no', '> 200 DM': 'yes'}}, 'rent': {'years_at_residence': {'3': 'no', '4': 'yes'}}}}}}, '2': {'checking_balance': {'1 - 200 DM': {'credit_history': {'poor': 'no', 'good': 'yes'}}, '< 0 DM': {'credit_history': {'poor': 'yes', 'perfect': 'yes', 'good': {'housing': {'own': {'percent_of_income': {'1': 'no', '2': 'yes'}}, 'rent': 'no'}}, 'critical': 'no'}}, 'unknown': 'no'}}}}, 'store': {'housing': {'own': {'years_at_residence': {'1': 'no', '3': 'yes', '2': {'checking_balance': {'unknown': {'percent_of_income': {'2': {'credit_history': {'perfect': 'yes', 'critical': 'no'}}, '4': 'yes'}}, '< 0 DM': 'no', '> 200 DM': {'credit_history': {'poor': 'no', 'good': 'yes'}}, '1 - 200 DM': 'no'}}, '4': 'no'}}, 'other': 'yes'}}, 'bank': {'dependents': {'1': {'credit_history': {'perfect': {'housing': {'own': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'yes', 'unknown': 'yes'}}, 'rent': 'no'}}, 'poor': 'no', 'very good': {'percent_of_income': {'1': 'no', '4': 'yes'}}, 'good': {'housing': {'own': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'2': 'no', '4': 'yes'}}, '< 0 DM': {'years_at_residence': {'1': 'no', '3': 'yes'}}, 'unknown': {'percent_of_income': {'1': 'no', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}}}, 'other': 'no', 'rent': {'phone': {'yes': 'no', 'no': 'yes'}}}}, 'critical': {'checking_balance': {'unknown': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'yes'}}, '< 0 DM': 'yes', '1 - 200 DM': 'no'}}}}, '2': 'no'}}}}, '> 7 years': {'credit_history': {'poor': {'other_credit': {'none': {'dependents': {'1': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes', '1 - 200 DM': {'years_at_residence': {'3': 'no', '2': 'no', '4': 'yes'}}}}, '2': {'housing': {'own': 'no', 'other': 'yes'}}}}, 'bank': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'1': 'no', '4': 'yes'}}, 'unknown': 'no'}}, 'store': 'no'}}, 'perfect': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes', '1 - 200 DM': 'no'}}, 'very good': 'yes', 'good': {'other_credit': {'none': {'housing': {'own': {'dependents': {'1': {'checking_balance': {'unknown': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'no'}}, '< 0 DM': {'years_at_residence': {'1': {'percent_of_income': {'3': 'no', '4': 'yes'}}, '2': 'no', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, '> 200 DM': 'no', '1 - 200 DM': 'no'}}, '2': {'checking_balance': {'unknown': 'no', '< 0 DM': {'percent_of_income': {'1': 'no', '4': 'yes'}}, '1 - 200 DM': {'percent_of_income': {'2': 'yes', '4': {'years_at_residence': {'3': 'yes', '4': 'no'}}}}}}}}, 'other': {'checking_balance': {'unknown': 'no', '< 0 DM': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no'}}, '> 200 DM': 'no', '1 - 200 DM': 'no'}}, 'rent': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': {'percent_of_income': {'2': 'no', '4': {'phone': {'yes': 'no', 'no': {'default': {'yes': 'yes', 'no': 'no'}}}}}}, 'unknown': 'no'}}}}, 'store': 'no', 'bank': {'years_at_residence': {'1': 'no', '2': 'yes', '4': 'no'}}}}, 'critical': {'other_credit': {'none': {'housing': {'own': {'dependents': {'1': {'checking_balance': {'unknown': 'no', '< 0 DM': {'years_at_residence': {'3': {'percent_of_income': {'3': 'yes', '4': {'phone': {'yes': 'no', 'no': 'yes'}}}}, '4': 'no'}}, '> 200 DM': 'no', '1 - 200 DM': {'phone': {'yes': {'percent_of_income': {'3': 'no', '2': 'no', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, 'no': 'no'}}}}, '2': 'no'}}, 'other': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'yes', '> 200 DM': 'no', 'unknown': 'no'}}, 'rent': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'yes', '> 200 DM': 'no', 'unknown': 'no'}}}}, 'bank': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'yes', 'unknown': 'no'}}, 'store': 'no'}}}}, '4 - 7 years': {'other_credit': {'none': {'dependents': {'1': {'credit_history': {'poor': {'percent_of_income': {'3': 'no', '2': {'checking_balance': {'1 - 200 DM': 'no', '< 0 DM': 'yes', 'unknown': 'no'}}, '4': 'yes'}}, 'perfect': 'yes', 'very good': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'2': 'yes', '4': 'no'}}, '< 0 DM': 'yes'}}, 'good': {'checking_balance': {'1 - 200 DM': {'housing': {'own': {'years_at_residence': {'1': 'no', '3': {'percent_of_income': {'3': 'yes', '2': 'no', '4': 'no'}}, '2': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'no'}}, '4': 'yes'}}, 'rent': 'no'}}, '< 0 DM': {'housing': {'own': {'years_at_residence': {'1': {'percent_of_income': {'1': 'yes', '2': 'yes', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, '3': 'yes', '2': 'yes', '4': 'no'}}, 'rent': 'yes'}}, '> 200 DM': 'no', 'unknown': {'years_at_residence': {'1': 'no', '3': 'no', '2': {'housing': {'own': {'percent_of_income': {'3': 'no', '2': 'no', '4': {'phone': {'yes': 'no', 'no': 'yes'}}}}, 'rent': 'no'}}, '4': 'no'}}}}, 'critical': {'housing': {'own': {'years_at_residence': {'1': 'no', '3': 'no', '2': {'checking_balance': {'unknown': 'no', '> 200 DM': {'default': {'yes': 'yes', 'no': 'no'}}, '1 - 200 DM': {'percent_of_income': {'3': 'no', '2': 'yes'}}}}, '4': {'phone': {'yes': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}, 'no': 'no'}}}}, 'other': 'no', 'rent': 'no'}}}}, '2': {'checking_balance': {'unknown': 'no', '< 0 DM': {'percent_of_income': {'2': 'no', '4': {'years_at_residence': {'3': 'no', '4': 'yes'}}}}, '1 - 200 DM': 'no'}}}}, 'bank': {'housing': {'own': {'percent_of_income': {'1': 'yes', '3': {'credit_history': {'perfect': 'no', 'poor': 'yes', 'very good': 'yes', 'good': 'no'}}, '2': {'years_at_residence': {'3': 'no', '2': 'yes'}}, '4': 'no'}}, 'other': 'yes'}}, 'store': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}}}, '< 1 year': {'dependents': {'1': {'other_credit': {'none': {'credit_history': {'perfect': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'1': 'no', '3': 'yes', '4': 'yes'}}, '< 0 DM': 'yes', '> 200 DM': 'no'}}, 'poor': {'checking_balance': {'unknown': 'yes', '< 0 DM': 'yes', '1 - 200 DM': 'no'}}, 'good': {'checking_balance': {'1 - 200 DM': {'years_at_residence': {'1': {'percent_of_income': {'1': {'housing': {'own': {'phone': {'yes': 'yes', 'no': 'no'}}, 'rent': 'yes'}}, '3': 'yes', '2': 'no', '4': 'no'}}, '3': {'percent_of_income': {'1': 'no', '2': 'no', '4': 'yes'}}, '2': {'percent_of_income': {'1': 'yes', '3': {'housing': {'own': 'no', 'rent': 'yes'}}, '4': 'yes'}}, '4': 'yes'}}, '< 0 DM': {'years_at_residence': {'1': {'housing': {'own': {'default': {'yes': 'yes', 'no': 'no'}}, 'rent': 'no'}}, '3': {'percent_of_income': {'2': 'no', '4': 'yes'}}, '2': 'no', '4': {'percent_of_income': {'1': 'no', '3': 'yes', '4': 'yes'}}}}, '> 200 DM': 'no', 'unknown': {'housing': {'own': {'percent_of_income': {'1': {'years_at_residence': {'1': 'yes', '2': 'no', '4': {'phone': {'yes': 'no', 'no': 'yes'}}}}, '3': 'no', '4': {'years_at_residence': {'1': 'no', '3': 'no', '2': 'no', '4': {'phone': {'yes': 'no', 'no': 'yes'}}}}}}, 'rent': {'percent_of_income': {'1': 'no', '2': {'years_at_residence': {'2': 'yes', '4': 'no'}}, '4': 'no'}}}}}}, 'critical': {'checking_balance': {'1 - 200 DM': {'housing': {'own': {'years_at_residence': {'1': 'no', '2': 'no', '4': {'percent_of_income': {'3': 'no', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}}}, 'other': 'no'}}, '< 0 DM': 'no', '> 200 DM': 'yes', 'unknown': {'percent_of_income': {'1': 'no', '3': 'no', '2': {'housing': {'own': 'no', 'rent': 'yes'}}, '4': 'no'}}}}}}, 'bank': {'years_at_residence': {'1': {'checking_balance': {'< 0 DM': {'credit_history': {'very good': 'yes', 'good': 'no'}}, '> 200 DM': 'no'}}, '3': 'no', '2': {'credit_history': {'poor': 'yes', 'very good': 'yes', 'good': 'no'}}, '4': 'yes'}}, 'store': {'checking_balance': {'unknown': 'no', '< 0 DM': {'credit_history': {'poor': 'yes', 'good': 'no'}}, '1 - 200 DM': 'yes'}}}}, '2': {'checking_balance': {'1 - 200 DM': {'credit_history': {'very good': 'yes', 'good': 'no', 'critical': 'yes'}}, '< 0 DM': 'yes', 'unknown': 'no'}}}}, 'unemployed': {'checking_balance': {'unknown': {'percent_of_income': {'3': 'yes', '2': 'no'}}, '< 0 DM': {'percent_of_income': {'1': {'years_at_residence': {'1': 'yes', '4': 'no'}}, '2': 'yes', '4': 'yes'}}, '1 - 200 DM': 'no'}}}}, 'unskilled': {'employment_duration': {'1 - 4 years': {'other_credit': {'none': {'credit_history': {'poor': 'no', 'perfect': {'percent_of_income': {'1': 'yes', '2': 'no', '4': 'yes'}}, 'very good': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}, 'good': {'dependents': {'1': {'housing': {'own': {'checking_balance': {'1 - 200 DM': {'years_at_residence': {'3': {'default': {'yes': 'yes', 'no': 'no'}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '4': {'phone': {'yes': 'no', 'no': 'no'}}}}, '4': 'no'}}, '< 0 DM': {'years_at_residence': {'1': 'no', '3': {'phone': {'yes': 'yes', 'no': {'default': {'yes': 'yes', 'no': 'no'}}}}, '2': {'percent_of_income': {'3': 'yes', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, '4': 'no'}}, '> 200 DM': {'percent_of_income': {'1': 'no', '3': {'years_at_residence': {'3': 'no', '2': 'yes'}}}}, 'unknown': {'years_at_residence': {'2': 'no', '4': 'yes'}}}}, 'rent': {'checking_balance': {'unknown': {'percent_of_income': {'3': 'no', '4': 'yes'}}, '< 0 DM': 'no', '> 200 DM': 'no', '1 - 200 DM': {'percent_of_income': {'3': 'yes', '4': 'no'}}}}}}, '2': {'checking_balance': {'unknown': 'no', '< 0 DM': {'percent_of_income': {'3': 'no', '2': {'years_at_residence': {'3': 'no', '2': 'no', '4': 'yes'}}, '4': 'yes'}}, '> 200 DM': 'yes', '1 - 200 DM': 'no'}}}}, 'critical': {'years_at_residence': {'1': 'no', '3': 'no', '2': {'checking_balance': {'unknown': 'no', '< 0 DM': 'no', '1 - 200 DM': 'yes'}}, '4': 'no'}}}}, 'bank': {'housing': {'own': {'credit_history': {'very good': 'yes', 'good': 'no', 'critical': 'no'}}, 'rent': 'yes'}}, 'store': 'no'}}, '> 7 years': {'credit_history': {'perfect': 'no', 'poor': {'checking_balance': {'unknown': 'yes', '< 0 DM': 'no'}}, 'very good': 'no', 'good': {'dependents': {'1': {'housing': {'own': {'checking_balance': {'unknown': 'no', '< 0 DM': {'other_credit': {'none': 'no', 'store': 'yes'}}, '1 - 200 DM': 'no'}}, 'other': 'no', 'rent': {'checking_balance': {'unknown': 'no', '< 0 DM': 'no', '1 - 200 DM': 'yes'}}}}, '2': 'yes'}}, 'critical': {'checking_balance': {'unknown': {'years_at_residence': {'1': 'no', '3': 'yes', '2': 'no', '4': 'no'}}, '< 0 DM': {'other_credit': {'none': {'default': {'yes': 'yes', 'no': 'no'}}, 'store': 'yes'}}, '> 200 DM': 'no', '1 - 200 DM': 'no'}}}}, '4 - 7 years': {'credit_history': {'perfect': 'yes', 'poor': 'no', 'very good': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'yes', '> 200 DM': 'no'}}, 'good': {'percent_of_income': {'1': 'no', '3': 'no', '2': {'years_at_residence': {'3': 'yes', '2': 'no', '4': 'no'}}, '4': 'no'}}, 'critical': {'checking_balance': {'unknown': 'no', '< 0 DM': 'no', '> 200 DM': 'yes', '1 - 200 DM': 'no'}}}}, '< 1 year': {'credit_history': {'poor': {'housing': {'own': {'dependents': {'1': 'no', '2': 'yes'}}, 'rent': 'yes'}}, 'very good': 'yes', 'good': {'other_credit': {'none': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'1': 'no', '3': {'years_at_residence': {'1': 'no', '3': 'no', '4': 'yes'}}, '2': 'no', '4': 'yes'}}, '< 0 DM': {'housing': {'own': {'years_at_residence': {'1': {'dependents': {'1': {'percent_of_income': {'1': {'default': {'yes': 'yes', 'no': 'no'}}, '3': 'yes', '4': 'no'}}, '2': 'yes'}}, '3': 'yes', '2': 'yes', '4': {'percent_of_income': {'3': 'no', '2': 'yes'}}}}, 'rent': 'yes'}}, '> 200 DM': {'percent_of_income': {'1': 'no', '2': 'yes'}}, 'unknown': {'years_at_residence': {'1': 'yes', '3': 'no'}}}}, 'bank': {'years_at_residence': {'1': 'no', '3': 'no', '2': 'yes'}}, 'store': {'checking_balance': {'1 - 200 DM': 'yes', '> 200 DM': 'no'}}}}, 'critical': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'1': 'no', '2': 'yes', '4': 'yes'}}, '< 0 DM': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}, 'unknown': 'no'}}}}, 'unemployed': 'no'}}, 'management': {'dependents': {'1': {'housing': {'own': {'credit_history': {'poor': {'years_at_residence': {'1': 'no', '3': {'checking_balance': {'1 - 200 DM': 'yes', 'unknown': 'no'}}, '2': {'checking_balance': {'1 - 200 DM': {'employment_duration': {'1 - 4 years': {'percent_of_income': {'2': 'yes', '4': 'no'}}, '> 7 years': 'no', 'unemployed': 'yes'}}, 'unknown': 'yes'}}, '4': 'yes'}}, 'perfect': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'1': 'yes', '2': 'no'}}, '> 200 DM': 'yes'}}, 'very good': 'yes', 'good': {'phone': {'yes': {'other_credit': {'none': {'employment_duration': {'1 - 4 years': {'checking_balance': {'unknown': {'percent_of_income': {'3': 'yes', '2': {'years_at_residence': {'3': 'yes', '2': 'no'}}, '4': 'yes'}}, '< 0 DM': 'no'}}, 'unemployed': {'years_at_residence': {'1': 'yes', '3': 'no', '2': 'yes', '4': 'no'}}, '4 - 7 years': {'checking_balance': {'1 - 200 DM': {'years_at_residence': {'2': 'yes', '4': 'no'}}, '< 0 DM': 'yes', 'unknown': 'no'}}, '< 1 year': 'no', '> 7 years': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes', '> 200 DM': 'no'}}}}, 'bank': {'checking_balance': {'1 - 200 DM': {'employment_duration': {'1 - 4 years': 'yes', '> 7 years': 'no'}}, '< 0 DM': 'yes', '> 200 DM': 'no'}}}}, 'no': {'checking_balance': {'unknown': 'no', '< 0 DM': 'no', '> 200 DM': 'no', '1 - 200 DM': 'yes'}}}}, 'critical': {'years_at_residence': {'1': 'no', '3': {'checking_balance': {'1 - 200 DM': {'employment_duration': {'1 - 4 years': 'yes', '> 7 years': 'yes', '4 - 7 years': 'no'}}, 'unknown': 'no'}}, '2': {'employment_duration': {'1 - 4 years': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}, 'unemployed': {'other_credit': {'none': {'phone': {'yes': 'no', 'no': 'yes'}}, 'store': 'yes', 'bank': 'no'}}, '4 - 7 years': 'no', '< 1 year': 'no', '> 7 years': 'no'}}, '4': 'no'}}}}, 'other': {'phone': {'yes': {'checking_balance': {'1 - 200 DM': {'other_credit': {'none': {'credit_history': {'perfect': 'yes', 'poor': 'no', 'very good': 'no', 'good': 'yes'}}, 'bank': {'credit_history': {'very good': {'employment_duration': {'> 7 years': 'yes', 'unemployed': 'no'}}, 'good': 'no'}}}}, '< 0 DM': {'credit_history': {'very good': 'no', 'good': {'employment_duration': {'> 7 years': 'yes', '4 - 7 years': 'no', '< 1 year': 'yes', 'unemployed': 'no'}}, 'critical': 'no'}}, 'unknown': {'other_credit': {'none': {'credit_history': {'good': 'no', 'critical': 'yes'}}, 'bank': 'no'}}}}, 'no': {'credit_history': {'poor': 'no', 'good': {'employment_duration': {'unemployed': 'no', '> 7 years': 'yes'}}, 'critical': 'no'}}}}, 'rent': {'employment_duration': {'1 - 4 years': {'checking_balance': {'1 - 200 DM': {'percent_of_income': {'1': 'yes', '2': 'no'}}, '< 0 DM': 'yes', 'unknown': 'no'}}, '> 7 years': {'checking_balance': {'unknown': 'no', '< 0 DM': {'credit_history': {'good': 'yes', 'critical': 'no'}}, '> 200 DM': 'no'}}, '4 - 7 years': 'no', '< 1 year': {'checking_balance': {'1 - 200 DM': {'years_at_residence': {'1': {'percent_of_income': {'3': 'no', '4': 'yes'}}, '3': 'no', '4': 'yes'}}, '< 0 DM': 'no'}}, 'unemployed': {'percent_of_income': {'3': 'yes', '2': 'no'}}}}}}, '2': {'credit_history': {'poor': 'no', 'very good': 'yes', 'good': {'employment_duration': {'1 - 4 years': 'no', 'unemployed': {'checking_balance': {'unknown': 'no', '< 0 DM': 'yes'}}, '4 - 7 years': 'no', '< 1 year': 'no', '> 7 years': 'no'}}, 'critical': {'checking_balance': {'1 - 200 DM': 'yes', '< 0 DM': 'no', 'unknown': 'no'}}}}}}, 'unemployed': {'checking_balance': {'1 - 200 DM': {'credit_history': {'perfect': 'yes', 'very good': 'no', 'good': {'employment_duration': {'unemployed': {'percent_of_income': {'1': {'years_at_residence': {'2': {'housing': {'own': 'yes', 'rent': 'no'}}, '4': 'no'}}, '3': 'no'}}, '< 1 year': 'no'}}, 'critical': 'no'}}, '< 0 DM': {'dependents': {'1': {'credit_history': {'very good': 'yes', 'good': {'percent_of_income': {'1': 'no', '4': 'yes'}}, 'critical': 'no'}}, '2': 'yes'}}, '> 200 DM': {'credit_history': {'very good': 'yes', 'good': 'no', 'critical': 'no'}}, 'unknown': 'no'}}}})
    listOfTrees.append({'job': {'skilled': {'dependents': {'1': {'housing': {'own': {'percent_of_income': {'1': {'phone': {'yes': 'no', 'no': 'no'}}, '3': {'phone': {'yes': 'no', 'no': 'no'}}, '2': {'phone': {'yes': 'no', 'no': 'no'}}, '4': {'phone': {'yes': 'no', 'no': 'no'}}}}, 'other': {'phone': {'yes': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no', '4': 'no'}}, 'no': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'no'}}}}, 'rent': {'percent_of_income': {'1': {'phone': {'yes': 'no', 'no': 'no'}}, '3': {'phone': {'yes': 'yes', 'no': 'yes'}}, '2': {'phone': {'yes': 'no', 'no': 'no'}}, '4': {'phone': {'yes': 'no', 'no': 'yes'}}}}}}, '2': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': {'phone': {'yes': 'no', 'no': 'no'}}, '2': {'phone': {'yes': 'no', 'no': 'yes'}}, '4': {'phone': {'yes': 'no', 'no': 'no'}}}}, 'other': {'phone': {'yes': {'percent_of_income': {'1': 'yes', '2': 'no', '4': 'no'}}, 'no': {'percent_of_income': {'3': 'yes', '2': 'no', '4': 'yes'}}}}, 'rent': {'percent_of_income': {'1': 'no', '3': {'phone': {'yes': 'no', 'no': 'yes'}}, '2': 'no', '4': 'yes'}}}}}}, 'unskilled': {'housing': {'own': {'dependents': {'1': {'percent_of_income': {'1': {'phone': {'yes': 'no', 'no': 'no'}}, '3': {'phone': {'yes': 'no', 'no': 'no'}}, '2': {'phone': {'yes': 'no', 'no': 'no'}}, '4': {'phone': {'yes': 'no', 'no': 'no'}}}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': {'phone': {'yes': 'no', 'no': 'no'}}, '4': {'phone': {'yes': 'no', 'no': 'yes'}}}}}}, 'other': {'percent_of_income': {'1': 'yes', '2': 'no', '4': 'yes'}}, 'rent': {'dependents': {'1': {'percent_of_income': {'1': 'no', '3': {'phone': {'yes': 'yes', 'no': 'no'}}, '2': {'phone': {'yes': 'no', 'no': 'no'}}, '4': {'phone': {'yes': 'yes', 'no': 'yes'}}}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'yes'}}}}}}, 'management': {'dependents': {'1': {'housing': {'own': {'phone': {'yes': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'no'}}, 'no': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}}}, 'other': {'phone': {'yes': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'no', '4': 'no'}}, 'no': {'percent_of_income': {'3': 'no', '2': 'no', '4': 'yes'}}}}, 'rent': {'phone': {'yes': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no', '4': 'no'}}, 'no': {'percent_of_income': {'1': 'yes', '3': 'no'}}}}}}, '2': {'housing': {'own': {'phone': {'yes': {'percent_of_income': {'1': 'yes', '3': 'no', '2': 'yes', '4': 'no'}}, 'no': {'default': {'yes': 'yes', 'no': 'no'}}}}, 'other': {'percent_of_income': {'3': 'no', '2': {'default': {'yes': 'yes', 'no': 'no'}}}}, 'rent': 'no'}}}}, 'unemployed': {'dependents': {'1': {'housing': {'own': {'percent_of_income': {'1': {'phone': {'yes': 'yes', 'no': 'no'}}, '3': 'no', '2': 'no', '4': {'default': {'yes': 'yes', 'no': 'no'}}}}, 'other': 'no', 'rent': {'percent_of_income': {'1': {'phone': {'yes': 'no', 'no': 'no'}}, '2': 'yes'}}}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes'}}}}}})
    # listOfTrees.append({'job': {'skilled': {'dependents': {'1': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'no'}}, 'other': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'no'}}, 'rent': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'no', '4': 'yes'}}}}, '2': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'no'}}, 'other': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no', '4': 'yes'}}, 'rent': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}}}}}, 'unskilled': {'housing': {'own': {'dependents': {'1': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'no'}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}}}, 'other': {'percent_of_income': {'1': 'yes', '2': 'no', '4': 'yes'}}, 'rent': {'dependents': {'1': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'yes'}}}}}}, 'management': {'dependents': {'1': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'no'}}, 'other': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'no', '4': 'no'}}, 'rent': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no', '4': 'no'}}}}, '2': {'housing': {'own': {'percent_of_income': {'1': 'yes', '3': 'no', '2': 'yes', '4': 'no'}}, 'other': {'percent_of_income': {'3': 'no', '2': 'no'}}, 'rent': 'no'}}}}, 'unemployed': {'dependents': {'1': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}, 'other': 'no', 'rent': {'percent_of_income': {'1': 'no', '2': 'yes'}}}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes'}}}}}}
    listOfTrees.append({'job': {'skilled': {'dependents': {'1': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'no'}}, 'other': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'no'}}, 'rent': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'no', '4': 'yes'}}}}, '2': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'no'}}, 'other': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no', '4': 'yes'}}, 'rent': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}}}}}, 'unskilled': {'housing': {'own': {'dependents': {'1': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'no'}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}}}, 'other': {'percent_of_income': {'1': 'yes', '2': 'no', '4': 'yes'}}, 'rent': {'dependents': {'1': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'yes'}}}}}}, 'management': {'dependents': {'1': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes', '4': 'no'}}, 'other': {'percent_of_income': {'1': 'no', '3': 'yes', '2': 'no', '4': 'no'}}, 'rent': {'percent_of_income': {'1': 'yes', '3': 'yes', '2': 'no', '4': 'no'}}}}, '2': {'housing': {'own': {'percent_of_income': {'1': 'yes', '3': 'no', '2': 'yes', '4': 'no'}}, 'other': {'percent_of_income': {'3': 'no', '2': 'no'}}, 'rent': 'no'}}}}, 'unemployed': {'dependents': {'1': {'housing': {'own': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'no', '4': 'yes'}}, 'other': 'no', 'rent': {'percent_of_income': {'1': 'no', '2': 'yes'}}}}, '2': {'percent_of_income': {'1': 'no', '3': 'no', '2': 'yes'}}}}}})

    return listOfTrees[i]


import matplotlib.pyplot as plt

decisionNode = dict(boxstyle="sawtooth", fc="0.8")
leafNode = dict(boxstyle="round4", fc="0.8")
arrow_args = dict(arrowstyle="<-")


def plotNode(nodeTxt, centerPt, parentPt, nodeType):
    createPlot.ax1.annotate(nodeTxt, xy=parentPt, xycoords='axes fraction',
                            xytext=centerPt, textcoords='axes fraction', va="center", ha="center", bbox=nodeType,
                            arrowprops=arrow_args)


'''''
def createPlot():
    fig = plt.figure(1, facecolor='white')#创建一个新图形
    fig.clf()#清空绘图区
    createPlot.axl = plt.subplot(111,frameon=False)
    #在图中绘制两个代表不同类型的树节点
    plotNode('a decision node',(0.5,0.1),(0.1,0.5),decisionNode)
    plotNode('a leaf node',(0.8,0.1),(0.3,0.8),leafNode)
    plt.show()
'''


# 画二叉树，实现和上面代码相似的功能
# 1、计算父节点和子节点的中间位置
def plotMidText(cntrPt, parentPt, txtString):
    xMid = (parentPt[0] - cntrPt[0]) / 2.0 + cntrPt[0]
    yMid = (parentPt[1] - cntrPt[1]) / 2.0 + cntrPt[1]
    createPlot.ax1.text(xMid, yMid, txtString)  # ??


# 绘制树的很多工作都是在这个函数中完成
def plotTree(myTree, parentPt, nodeTxt):
    # 计算树的宽和高
    numLeafs = getNumLeafs(myTree)
    depth = getTreeDepth(myTree)
    firstStr = myTree.keys()[0]
    cntrPt = (plotTree.xOff + (1.0 + float(numLeafs)) / 2.0 / plotTree.totalW, \
              plotTree.yOff)  # ??
    plotMidText(cntrPt, parentPt, nodeTxt)
    plotNode(firstStr, cntrPt, parentPt, decisionNode)
    secondDict = myTree[firstStr]
    plotTree.yOff = plotTree.yOff - 1.0 / plotTree.totalD
    for key in secondDict.keys():
        if type(secondDict[key]).__name__ == 'dict':
            plotTree(secondDict[key], cntrPt, str(key))
        else:
            plotTree.xOff = plotTree.xOff + 1.0 / plotTree.totalW
            plotNode(secondDict[key], (plotTree.xOff, plotTree.yOff), cntrPt, leafNode)
            plotMidText((plotTree.xOff, plotTree.yOff), cntrPt, str(key))
    plotTree.yOff = plotTree.yOff + 1.0 / plotTree.totalD


def createPlot(inTree):
    fig = plt.figure(1, facecolor='white')
    fig.clf()
    axprops = dict(xticks=[], yticks=[])
    createPlot.ax1 = plt.subplot(111, frameon=False, **axprops)
    plotTree.totalW = float(getNumLeafs(inTree))
    plotTree.totalD = float(getTreeDepth(inTree))
    plotTree.xOff = -0.5 / plotTree.totalW;
    plotTree.yOff = 1.0;
    print(plotTree.xOff, plotTree.yOff)
    # plotTree.xOff = 1.0;plotTree.yOff = 1.0;
    plotTree(inTree, (0.5, 1.0), '')
    plt.show()


myTree=retrieveTree(2)
createPlot(myTree)